<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Redirect Service</title>
    <script>
        // JSON 데이터 로드 함수
        function loadJson(url) {
            return fetch(url).then(response => response.json());
        }

        // 메인 함수
        async function main() {
            const jsonUrl = 'https://cdn.jsdelivr.net/gh/jhs512/to2_backup@master/1.json';

            // JSON 로드
            const jsonData = await loadJson(jsonUrl);

            // 현재 URL에서 코드 추출
            const code = new URL(window.location.href).searchParams.get('code');

            // 해당 코드에 매칭되는 URL 찾기
            const matchedItem = jsonData.find(item => item.code === code);
            if (matchedItem) {
                // 매칭되는 URL로 리다이렉트
                window.location.replace(matchedItem.url);
            } else {
                // 매칭되는 항목이 없을 경우
                console.error('No matching URL found');
            }
        }

        // 페이지 로드 시 메인 함수 실행
        window.onload = main;
    </script>
</head>
<body>
    <h1>Redirecting...</h1>
</body>
</html>
